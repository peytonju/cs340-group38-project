{{!-- farms.handlebars (full CRUD) --}}
<h1>Farms</h1>

<table>
  <thead>
    <tr><th>ID</th><th>Owner</th><th>Name</th><th>Type</th></tr>
  </thead>
  <tbody>
    {{#each Farms}}
      <tr>
        <form method="post" action="/tables/farms/update/{{farmID}}">
          <td>{{farmID}}</td>
          <td>
            <select name="playerID" required>
              {{#each ../Players}}
                <option value="{{playerID}}" {{#if (eq playerID ../playerID)}}selected{{/if}}>
                  ({{playerID}}) {{playerName}}
                </option>
              {{/each}}
            </select>
          </td>
          <td><input name="farmName" value="{{farmName}}" required /></td>
          <td>
            <select name="farmType" required>
              {{#each ../FARM_TYPES}}
                <option {{#if (eq this ../farmType)}}selected{{/if}}>{{this}}</option>
              {{/each}}
            </select>
          </td>
          <td><button type="submit">Save</button></td>
        </form>
        <td>
          <form method="post" action="/tables/farms/delete/{{farmID}}" style="display:inline;">
            <button type="submit">Delete</button>
          </form>
        </td>
      </tr>
    {{else}}
      <tr><td colspan="6">No farms.</td></tr>
    {{/each}}
  </tbody>
</table>

<h2>Add Farm</h2>
<form method="post" action="/tables/farms/insert">
  <select name="playerID" required>
    <option disabled selected>Ownerâ€¦</option>
    {{#each Players}}
      <option value="{{playerID}}">({{playerID}}) {{playerName}}</option>
    {{/each}}
  </select>
  <input name="farmName" placeholder="Farm name" required />
  <select name="farmType" required>
    {{#each FARM_TYPES}}
      <option>{{this}}</option>
    {{/each}}
  </select>
  <button type="submit">Add</button>
</form>
