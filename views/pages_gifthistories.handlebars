{{!-- giftHistories.handlebars (add / list / delete) --}}
<h1>Gift History</h1>

<table>
  <thead>
    <tr><th>Date</th><th>Player</th><th>Villager</th><th>Gift</th></tr>
  </thead>
  <tbody>
    {{#each GiftHistories}}
      <tr>
        <td>{{givenDate}}</td>
        
        <td>
          <select name="playerID">
              {{#each ../Players}}
                <option value="{{playerID}}" {{#if (eq playerID ../playerID)}}selected{{/if}}>
                  {{playerName}}
                </option>
              {{/each}}
            </select>
        </td>

        <td>
          <select name="villagerID">
              {{#each ../Villagers}}
                <option value="{{villagerID}}" {{#if (eq villagerID ../villagerID)}}selected{{/if}}>
                  {{villagerName}}
                </option>
              {{/each}}
            </select>
        </td>
        
        <td>
          <select name="giftID">
              {{#each ../Gifts}}
                <option value="{{giftID}}" {{#if (eq giftID ../giftID)}}selected{{/if}}>
                  {{giftName}}
                </option>
              {{/each}}
            </select>
        </td>
      </tr>
    {{else}}
      <tr><td colspan="5">No gift history.</td></tr>
    {{/each}}
  </tbody>
</table>

<h2>Record Gift</h2>
<form method="post" action="/tables/giftHistories/insert">
  <input type="date" name="givenDate" required />

  <select name="playerID" required>
    <option disabled selected>Player…</option>
    {{#each players}}<option value="{{playerID}}">{{playerName}}</option>{{/each}}
  </select>

  <select name="villagerID" required>
    <option disabled selected>Villager…</option>
    {{#each villagers}}<option value="{{villagerID}}">{{villagerName}}</option>{{/each}}
  </select>

  <select name="giftID" required>
    <option disabled selected>Gift…</option>
    {{#each gifts}}<option value="{{giftID}}">{{giftName}}</option>{{/each}}
  </select>

  <button type="submit">Add</button>
</form>
